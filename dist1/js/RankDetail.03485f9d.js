"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[449],{9087:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main"},[e("div",{staticClass:"left"},[e("div",{staticClass:"header"},[e("div",{staticClass:"header-left"},[t.detailList.playlist?e("el-image",{attrs:{src:t.detailList.playlist.coverImgUrl,fit:"fill",lazy:!0}}):t._e()],1),e("div",{staticClass:"header-right"},[e("div",{staticClass:"first"},[t.detailList.playlist?e("p",{staticClass:"title"},[t._v(" "+t._s(t.detailList.playlist.name)+" ")]):t._e(),t.detailList.playlist?e("p",{staticClass:"updateTime"},[t._v(" "+t._s(t.detailList.playlist.updateFrequency)+" ")]):t._e()]),t.detailList.playlist?e("div",{staticClass:"second"},[e("el-avatar",{attrs:{size:"medium",src:t.detailList.playlist.creator.avatarUrl}}),e("span",{staticClass:"cover-name"},[t._v(t._s(t.detailList.playlist.creator.nickname))]),e("i",{staticClass:"cover-date"},[t._v(t._s(t.detailList.updateTime))])],1):t._e(),t.detailList.playCount?e("div",{staticClass:"third"},[e("p",[e("i",{staticClass:"el-icon-headset"}),t._v(t._s(t.detailList.playCount)+"次")]),e("p",[e("i",{staticClass:"el-icon-star-off"}),t._v(t._s(t.detailList.subscribedCount)+" ")]),e("p",[e("i",{staticClass:"el-icon-chat-dot-square"}),t._v(t._s(t.detailList.commentCount)+" ")])]):t._e(),t.detailList.playlist?e("div",{staticClass:"forth"},[e("p",{staticClass:"briefDesc-title"},[t._v("歌单简介")]),e("p",{staticClass:"briefDesc-content",class:t.toggle?" toggle":"",on:{click:function(s){t.toggle=!t.toggle}}},[t._v(" "+t._s(t.detailList.playlist.description)+" ")])]):t._e()])]),e("div",{staticClass:"list"},[e("div",{staticClass:"list-header"},[t.songsDetailList?e("p",[t._v(" 歌曲列表"),e("em",[t._v("共"+t._s(t.totalPage)+"首歌")])]):t._e(),e("div",[e("el-button",{staticStyle:{"background-color":"rgb(99, 187, 208)","border-color":"rgb(99, 187, 208)"},attrs:{type:"primary",size:"small",round:""},on:{click:function(s){return t.playMusic(t.songsDetailListPage)}}},[e("i",{staticClass:"el-icon-caret-right"}),t._v("播放全部")]),e("el-button",{attrs:{size:"small",round:""}},[e("i",{staticClass:"el-icon-star-off"}),t._v("收藏")])],1)]),e("div",{staticClass:"list-form"},[e("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.songsDetailListPage}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),e("el-table-column",{attrs:{label:"音乐标题","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.$router.push({path:"/songdetail?id="+i.id})}}},[t._v(t._s(i.name))])]}}])}),e("el-table-column",{attrs:{label:"歌手"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;return t._l(i.singer,(function(s,i){return e("span",{key:i,staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$router.push({path:"/artist/detail?id="+s.id})}}},[0!==i?e("span",[t._v("/")]):t._e(),t._v(" "+t._s(s.name)+" ")])}))}}])}),e("el-table-column",{attrs:{prop:"album.name",label:"专辑","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"dt",label:"时长",width:"80"}}),e("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(s){var i=s.row;s.$index;return[e("el-button",{attrs:{icon:"el-icon-caret-right",circle:"",size:"mini"},on:{click:function(s){return t.goArtist(i,0)}}}),e("el-button",{attrs:{icon:"el-icon-plus",circle:"",size:"mini"},on:{click:function(s){return t.goArtist(i,1)}}})]}}])})],1),e("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":!0,total:t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage,align:"center"},on:{"current-change":t.handleCurrentChange}})],1)])]),e("div",{staticClass:"right"},[e("div",{staticClass:"comment"},[e("Comments",{attrs:{list:t.commentList}})],1)]),e("el-backtop")],1)},a=[],l=e(6294),r={data(){return{toggle:!0,currentPage:1,pageSize:10}},computed:{...(0,l.mapState)({commentList:t=>t.rankListDetail.commentList,detailList:t=>t.rankListDetail.rankDetailList1}),songsDetailList(){return this.$store.getters.songsDetailList},songsDetailListPage(){const{songsDetailList:t,currentPage:s,pageSize:e}=this;return t?t.slice((s-1)*e,s*e):[]},totalPage(){return this.songsDetailList?this.songsDetailList.length:0}},watch:{$route:{immediate:!0,handler(t){const{id:s}=this.$route.query;s&&(this.toggle=!0,this.$store.dispatch("getRankListDetail",s),this.$store.dispatch("getRankListComment",s))}}},methods:{async goArtist(t,s){if(0===s)await this.$store.dispatch("addMusic",t),this.$bus.$emit("PLAYMUSIC",t);else if(1===s){const s=await this.$store.dispatch("addMusic",t);s?this.$bus.$emit("ADDMUSIC",!1):this.$bus.$emit("ADDMUSIC",!0)}},handleCurrentChange(t){this.currentPage=t},playMusic(t){const s=[];for(let e=t.length-1;e>=0;e--)s.push(t[e]);s.forEach((async t=>{await this.$store.dispatch("addMusic",t)})),this.$bus.$emit("PLAYMUSIC",t[0])}}},n=r,c=e(1001),o=(0,c.Z)(n,i,a,!1,null,"4a3c285f",null),u=o.exports}}]);