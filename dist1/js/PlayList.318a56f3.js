"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[250],{6605:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},t._l(t.playListDetail,(function(e,s){return a("el-col",{key:s},[a("div",{staticClass:"body-card"},[a("el-image",{attrs:{src:e.coverImgUrl+"?param=250y250",fit:"cover",lazy:""},on:{click:function(a){return t.goTarget(e.id)}}}),a("p",{staticClass:"count"},[a("i",{staticClass:"el-icon-video-play"}),a("i",[t._v(t._s(e.playCount))]),a("i",[t._v("/")]),a("i",[t._v(t._s(e.trackCount)+"首")])]),a("div",[a("a",{staticClass:"body-title",on:{click:function(a){return t.goTarget(e.id)}}},[t._v(t._s(e.name))]),a("div",{staticClass:"tags"},t._l(e.tags,(function(e,s){return a("a",{key:s,on:{click:function(a){return a.preventDefault(),t.toTarget(e)}}},[t._v("#"+t._s(e))])})),0)])],1)])})),1)},r=[],i={data(){return{playCount:"",trackCount:""}},props:["playListDetail"],methods:{toTarget(t){const{query:e}=this.$route;e.cat!==t&&this.$router.push({path:"/playlist",query:{cat:t,order:"hot"}})},goTarget(t){this.$router.push({path:"/rank/detail",query:{id:t}})}}},n=i,l=a(1001),o=(0,l.Z)(n,s,r,!1,null,"78227c1c",null),c=o.exports},7536:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavMenu",{attrs:{title:t.cat}}),a("Content",{attrs:{title:t.cat}}),a("el-backtop")],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tagsList?a("div",[a("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[a("el-row",{attrs:{gutter:20,type:"flex"}},t._l(t.tagsList,(function(e,s){return a("el-col",{key:s},[a("div",{staticClass:"title"},[t._v(t._s(e.key))]),a("div",{staticClass:"body"},[t._l(e.tags.slice(0,8),(function(e,s){return a("span",{key:s},[a("em",{class:e.name==t.title?"active":"",on:{click:function(a){return t.changeList(e.name)}}},[t._v(t._s(e.name))])])})),0!=s?a("el-dropdown",{staticClass:"more",attrs:{trigger:"click",size:"small"},on:{command:t.changeList}},[a("span",{staticClass:"el-dropdown-link"},[t._v(" 更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(e.tags.slice(8),(function(e,s){return a("el-dropdown-item",{key:s,attrs:{command:e.name}},[t._v(t._s(e.name))])})),1)],1):t._e()],2)])})),1)],1)],1):t._e()},n=[],l=a(6294),o={props:["title"],computed:{...(0,l.mapGetters)(["tagsList"])},methods:{changeList(t){this.name=t;const{query:e}=this.$route;e.cat!==t&&this.$router.push({path:"/playlist",query:{cat:t,order:"hot"}})}}},c=o,u=a(1001),h=(0,u.Z)(c,i,n,!1,null,"d735308e",null),d=h.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{type:"flex",align:"bottom"}},[a("el-col",{attrs:{span:3}},[""==t.title?a("h1",[t._v("热门歌单")]):a("h1",{staticClass:"toggle"},[t._v(" "+t._s(t.title)),a("i",{staticClass:"el-icon-close",on:{click:t.closeTitle}})])]),a("el-col",{attrs:{span:2}},[a("h3",{class:"hot"===t.name?"active":"",on:{click:function(e){return t.changeList("hot")}}},[t._v(" 热门 ")])]),a("el-col",{attrs:{span:2}},[a("h3",{class:"new"===t.name?"active":"",on:{click:function(e){return t.changeList("new")}}},[t._v(" 最新 ")])])],1),a("el-row",{staticStyle:{marginTop:"15px"}},[a("Album",{attrs:{playListDetail:t.tagList.playlists}})],1)],1)},g=[],m=a(6605),y={data(){return{name:"hot"}},props:["title"],components:{Album:m.Z},computed:{...(0,l.mapState)({tagList:t=>t.playList.tagList})},methods:{changeList(t){const{query:e}=this.$route;e.order!==t&&(e.cat?this.$router.push({path:"/playlist",query:{order:t,cat:e.cat}}):this.$router.push({path:"/playlist",query:{order:t}}))},closeTitle(){this.$router.push({path:"/playlist",query:{order:"hot"}})}},watch:{tagList:{handler(t,e){t.playlists&&t.playlists.length<=0&&this.$notify({title:"失败",message:"最新歌单数据为空",type:"error"})}},$route:{immediate:!0,handler(t){const{order:e}=t.query;e&&(this.name=e)}}}},v=y,_=(0,u.Z)(v,p,g,!1,null,"6dd80d7f",null),f=_.exports,k={data(){return{order:"hot",cat:"",limit:50}},components:{NavMenu:d,Content:f},created(){this.getData(),this.getTagList()},methods:{async getData(){await this.$store.dispatch("getTags")},async getTagList(){try{const{order:t,cat:e,limit:a}=this;await this.$store.dispatch("getTagList",[t,e,a])}catch(t){this.$notify({title:"失败",message:"歌单列表数据加载失败",type:"error"})}}},watch:{$route:{immediate:!0,handler(t,e){const{cat:a,order:s}=t.query;a?(this.cat=a,this.order=s):(this.cat="",this.order=s),this.getTagList()}}}},w=k,L=(0,u.Z)(w,s,r,!1,null,null,null),C=L.exports}}]);