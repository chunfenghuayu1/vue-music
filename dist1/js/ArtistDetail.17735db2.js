"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[619],{1214:function(t,i,e){e.r(i),e.d(i,{default:function(){return d}});var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"main"},[e("div",{staticClass:"left"},[e("div",{staticClass:"header"},[t.artist.cover?e("div",{staticClass:"avatar"},[e("el-image",{attrs:{src:t.artist.cover+"?param=230y230",fit:"fill",lazy:!0}})],1):t._e(),e("div",{staticClass:"desc"},[e("div",{staticClass:"name"},[e("p",[t._v(t._s(t.artist.name))])]),e("div",{staticClass:"tag"},[t._l(t.artist.identifyTag,(function(i){return e("el-tag",{key:i,staticStyle:{"margin-right":"5px"},attrs:{effect:"light",size:"medium",type:"success"}},[t._v(t._s(i))])})),t._l(t.artist.identities,(function(i){return e("el-tag",{key:i,staticStyle:{"margin-right":"5px"},attrs:{effect:"light",size:"medium",type:"success"}},[t._v(t._s(i))])}))],2),e("div",{staticClass:"count"},[t.artist.musicSize?e("div",{staticClass:"musicSize"},[t._v(" 单曲数： "),e("span",[t._v(t._s(t.artist.musicSize))])]):t._e(),t.artist.albumSize?e("div",{staticClass:"albumSize"},[t._v(" 专辑数："),e("span",[t._v(t._s(t.artist.albumSize))])]):t._e(),t.artist.mvSize?e("div",{staticClass:"mvSize"},[t._v(" MV数："),e("span",[t._v(t._s(t.artist.mvSize))])]):t._e()]),t.artist.briefDesc?e("div",{staticClass:"briefDesc"},[e("p",{staticClass:"briefDesc-title"},[t._v("介绍：")]),e("p",{staticClass:"briefDesc-content",class:t.toggle?"toggle":"",on:{click:function(i){t.toggle=!t.toggle}}},[t._v(" "+t._s(t.artist.briefDesc)+" ")])]):t._e()])]),t.artistDesc.introduction?e("div",{staticClass:"body"},[e("div",{staticClass:"body-title"},[e("div",[e("span",{class:1==t.Index?"active":"",on:{click:function(i){return t.changeActive(1)}}},[t._v("热门50首")]),0!==t.artistDesc.introduction.length?e("span",{class:2==t.Index?"active":"",on:{click:function(i){return t.changeActive(2)}}},[t._v("歌手详情")]):t._e()]),e("div",{staticClass:"btn"},[1==t.Index?e("el-button",{staticStyle:{"background-color":"rgb(99, 187, 208)","border-color":"rgb(99, 187, 208)"},attrs:{type:"primary",size:"small",round:""},on:{click:function(i){return t.playMusic(t.ListPage)}}},[t._v("立即播放")]):t._e()],1)]),1==t.Index?e("div",{staticClass:"content1"},[e("div",{staticClass:"list-form"},[e("el-table",{staticStyle:{width:"100%"},attrs:{stripe:"",data:t.ListPage}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),e("el-table-column",{attrs:{label:"音乐标题","show-overflow-tooltip":"",align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;i.$index;return[e("span",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.$router.push({path:"/songdetail?id="+s.id})}}},[t._v(t._s(s.name))])]}}],null,!1,1934597509)}),e("el-table-column",{attrs:{label:"歌手",align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return t._l(s.singer,(function(i,s){return e("span",{key:s,staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$router.push({path:"/artist/detail?id="+i.id})}}},[0!==s?e("span",[t._v("/")]):t._e(),t._v(" "+t._s(i.name)+" ")])}))}}],null,!1,3765761134)}),e("el-table-column",{attrs:{prop:"dt",label:"时长",width:"80"}}),e("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return[s.license?t._e():e("div",[e("el-button",{attrs:{icon:"el-icon-caret-right",circle:"",size:"mini"},on:{click:function(i){return t.goArtist(s,0)}}}),e("el-button",{attrs:{icon:"el-icon-plus",circle:"",size:"mini"},on:{click:function(i){return t.goArtist(s,1)}}})],1)]}}],null,!1,3250861109)})],1),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","hide-on-single-page":!0,total:t.totalPage,"page-size":t.pageSize,"current-page":t.currentPage,align:"center"},on:{"current-change":t.handleCurrentChange}})],1)]):e("div",{staticClass:"content2"},t._l(t.artistDesc.introduction,(function(i,s){return e("div",{key:s,staticClass:"artistDesc"},[e("h3",[t._v(t._s(i.ti))]),t._l(i.txtArr,(function(i,s){return e("p",{key:s},[t._v(t._s(i))])}))],2)})),0)]):t._e()]),e("div",{staticClass:"right"},[e("div",{staticClass:"card"},[t._m(0),e("div",{staticClass:"content"},[e("swiper",{attrs:{options:t.swiperOption}},t._l(t.simiArtists,(function(i,s){return e("swiper-slide",{key:s},[e("img",{attrs:{src:i.picUrl+"?param=120y120"},on:{click:function(e){return t.goTarget(i.id)}}})])})),1)],1)])])]),e("el-backtop")],1)},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title"},[e("p",[t._v("相似歌手")])])}],r=e(5255),n=e(6294),c={data(){return{Index:1,toggle:!0,swiperOption:{spaceBetween:5,autoplay:!0,slidesPerView:3,slidesPerColumn:3,grid:{fill:"column",rows:3}},currentPage:1,pageSize:10}},components:{swiper:r.swiper,swiperSlide:r.swiperSlide},computed:{...(0,n.mapState)({hotPlayList:t=>t.artistDetail.hotPlayList,artistDesc:t=>t.artistDetail.artistDesc,artist:t=>t.artistDetail.artist,simiArtists:t=>t.artistDetail.simiArtists}),totalPage(){return this.hotPlayList?this.hotPlayList.length:0},ListPage(){const{hotPlayList:t,currentPage:i,pageSize:e}=this;return t?t.slice((i-1)*e,i*e):[]}},methods:{changeActive(t){this.Index=t},getData(t){this.$store.dispatch("getArtistDetail",t),this.$store.dispatch("getArtistSimi",t),this.$store.dispatch("getArtistHotPlay",t),this.$store.dispatch("getArtistDesc",t)},goTarget(t){this.$router.push({path:"/artist/detail",query:{id:t}}),this.toggle=!0},async goArtist(t,i){if(0===i)await this.$store.dispatch("addMusic",t),this.$bus.$emit("PLAYMUSIC",t);else if(1===i){const i=await this.$store.dispatch("addMusic",t);i?this.$bus.$emit("ADDMUSIC",!1):this.$bus.$emit("ADDMUSIC",!0)}},handleCurrentChange(t){this.currentPage=t},playMusic(t){const i=[];for(let e=t.length-1;e>=0;e--)i.push(t[e]);i.forEach((async t=>{await this.$store.dispatch("addMusic",t)})),this.$bus.$emit("PLAYMUSIC",t[0])}},watch:{$route:{immediate:!0,handler(t){const{id:i}=this.$route.query;i&&(this.getData(i),this.toggle=!0)}}}},l=c,o=e(1001),u=(0,o.Z)(l,s,a,!1,null,"51b4f464",null),d=u.exports}}]);