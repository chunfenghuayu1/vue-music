"use strict";(self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[]).push([[121],{2094:function(s,t,i){i.r(t),i.d(t,{default:function(){return _}});var a=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("div",{staticClass:"container"},[i("div",{staticClass:"main"},[i("div",{staticClass:"header"},[i("div",{staticClass:"desc"},[i("div",{staticClass:"card"},[i("div",{staticClass:"left"},[s.song?i("p",{staticClass:"title"},[s._v(" "+s._s(s.song.name)+" ")]):s._e(),s._l(s.song.singer,(function(t){return i("span",{key:t.id,staticClass:"author"},[t?i("span",[s._v(s._s(t.name))]):s._e()])})),i("p",{staticClass:"description"},[s.song.album?i("span",[s._v("专辑："),i("i",[s._v(s._s(s.song.album.name))])]):s._e(),0!==s.song.publishTime?i("span",[s._v("发行时间："),i("i",[s._v(s._s(s.song.publishTime))])]):s._e()])],2),i("div",{staticClass:"right"},[i("div",[s.song.album?i("el-image",{attrs:{src:s.song.album.picUrl+"?param=230y230",fit:"cover",lazy:!0}}):s._e()],1)])]),i("div",{staticClass:"btn"},[i("el-button",{staticStyle:{"background-color":"#63bbd0","border-color":"#63bbd0"},attrs:{type:"danger",size:"medium",round:"",disabled:!!s.song.license},on:{click:function(t){return s.playMusic(s.song)}}},[s._v("立即播放")]),i("el-button",{attrs:{size:"medium",round:"",disabled:!!s.song.license},on:{click:function(t){return s.addMusic(s.song)}}},[s._v("添加到播放列表")])],1)]),i("div",{staticClass:"recommend"},[i("el-card",{attrs:{shadow:"always","body-style":{padding:"0px 20px 10px 20px"}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[s._v("推荐歌曲")])]),s._l(s.simiSong,(function(t){return i("div",{key:t.id,staticClass:"recom"},[i("div",{staticClass:"left"},[i("router-link",{attrs:{to:{path:"/songdetail",query:{id:t.id}}}},[i("p",[s._v(s._s(t.name))])]),i("p",s._l(t.album.artists,(function(t,a){return i("span",{key:a,on:{click:function(i){return s.$router.push({path:"/artist/detail?id="+t.id})}}},[0!==a?i("span",[s._v("/")]):s._e(),s._v(s._s(t.name))])})),0)],1)])}))],2)],1)]),i("Comments",{attrs:{list:s.commentList}})],1),i("div",{staticClass:"aside"},[i("Lyric")],1),i("el-backtop")],1)},e=[],n=i(6294),c=function(){var s=this,t=s.$createElement,i=s._self._c||t;return i("el-card",{attrs:{shadow:"always","body-style":{padding:"20px"}}},[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[s._v("歌词")])]),i("div",{staticClass:"body"},[i("div",{staticClass:"lyrics"},s._l(s.lyric,(function(t,a){return i("p",{key:a},[s._v(s._s(t))])})),0)])])},o=[],r={computed:{...(0,n.mapState)({lyric:s=>s.songDetail.lyric})}},l=r,d=i(1001),u=(0,d.Z)(l,c,o,!1,null,"22d03856",null),m=u.exports,p={components:{Lyric:m},computed:{...(0,n.mapState)({song:s=>s.songDetail.song,simiSong:s=>s.songDetail.simiSong,commentList:s=>s.songDetail.commentList})},watch:{$route:{immediate:!0,handler(s){const{id:t}=this.$route.query;this.$store.dispatch("getSongDetail",t),this.$store.dispatch("getSimiSong",t),this.$store.dispatch("getCommentList",t),this.$store.dispatch("getLyric",t)}}},methods:{async playMusic(s){await this.$store.dispatch("addMusic",s),this.$bus.$emit("PLAYMUSIC",s)},async addMusic(s){const t=await this.$store.dispatch("addMusic",s);t?this.$bus.$emit("ADDMUSIC",!1):this.$bus.$emit("ADDMUSIC",!0)}}},h=p,v=(0,d.Z)(h,a,e,!1,null,"205ccdd7",null),_=v.exports}}]);